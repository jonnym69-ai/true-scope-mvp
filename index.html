<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>True Scope Gaming</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="style-simple.css?v=3">
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc, collection, query, where, getDocs, limit } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDtori3VbCtdFolmgAVXgsdC7kSReY5Hsk",
            authDomain: "truescopegaming.firebaseapp.com",
            projectId: "truescopegaming",
            storageBucket: "truescopegaming.firebasestorage.app",
            messagingSenderId: "558894926587",
            appId: "1:558894926587:web:617b32ed19188d438f7e5e",
            measurementId: "G-1FC5CQ3FPW"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Make these available globally
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseFunctions = { signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged, doc, getDoc, setDoc, updateDoc, collection, query, where, getDocs, limit };
    </script>
    <!-- Stripe SDK -->
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <!-- Tier Selection Modal -->
    <div id="tier-modal" class="tier-modal">
        <div class="tier-modal-content">
            <h2>Choose Your Tier</h2>
            <div id="tier-forms">
                <div id="tier-list">
                    <h3>Tier Options</h3>
                    <ul>
                        <li><strong>Free</strong>: Limited features</li>
                        <li><strong>Premium</strong>: $4.99/month - Unlimited features</li>
                        <li><strong>Pro</strong>: $9.99/month - All premium features + advanced tools</li>
                    </ul>
                    <button id="select-tier-btn">Select Tier</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Auth Modal -->
    <div id="auth-modal" class="auth-modal">
        <div class="auth-modal-content">
            <h2>Welcome to True Scope!</h2>
            <div id="auth-forms">
                <div id="login-form">
                    <h3>Sign In</h3>
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button id="login-btn">Sign In</button>
                    <p>Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
                </div>
                <div id="signup-form">
                    <h3>Create Account</h3>
                    <input type="email" id="signup-email" placeholder="Email" required>
                    <input type="password" id="signup-password" placeholder="Password" required>
                    <button id="signup-btn">Create Account</button>
                    <p>Already have an account? <a href="#" id="show-login">Sign In</a></p>
                </div>
            </div>
            <div id="auth-error" class="auth-error"></div>
        </div>
    </div>

    <!-- Premium Banner -->
    <div id="premium-banner" class="premium-banner">
        <div class="premium-banner-content">
            <h3>ğŸ® Upgrade to Pro!</h3>
            <p>Get unlimited plans, PDF export, and advanced features</p>
            <button id="banner-upgrade-btn" class="upgrade-btn">Upgrade Now - $4.99/month</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>True Scope Gaming â€” Start Creating Today</h1>
            <p class="subtitle">Turn your idea into a tiny, buildable plan.</p>
            <p class="slogan">Making games made simple</p>
            <p class="intro">Perfect for beginners! Just describe your game idea and get a step-by-step plan to start making your first game.</p>
        </header>
        <main>
            <div class="input-group">
                <label for="idea">Describe your game idea:</label>
                <div class="voice-input-container">
                    <textarea id="idea" rows="4" placeholder="Example: I want to make a cozy 2D farming game with crops and animals..."></textarea>
                    <button id="voice-btn" type="button" title="Click to speak your idea">
                        ğŸ¤
                    </button>
                </div>
                <div id="voice-status" class="voice-status"></div>
            </div>
            <p class="tip">ğŸ’¡ Pro tip: Keep your idea simple - like "jumping game" or "farm game". True Scope will create the perfect plan for you!</p>
            <div class="input-group">
                <label for="tool">What tool are you using?</label>
                <select id="tool">
                    <option value="Unity">Unity</option>
                    <option value="Godot">Godot</option>
                    <option value="Unreal">Unreal</option>
                    <option value="Windsurf">Windsurf</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <!-- Plan Format Selection (Premium Feature) -->
            <div id="format-selection" class="input-group">
                <label for="plan-format">Choose Plan Format (Premium Feature)</label>
                <select id="plan-format">
                    <option value="standard">ğŸ“‹ Standard Game Plan</option>
                    <option value="technical">ğŸ’» Technical Specification</option>
                    <option value="pitch">ğŸ¯ Pitch Deck Format</option>
                    <option value="business">ğŸ“Š Business Plan</option>
                    <option value="timeline">ğŸ“… Timeline & Milestones</option>
                    <option value="budget">ğŸ’° Budget Breakdown</option>
                </select>
            </div>
            <h3 class="mode-title">How would you like to start?</h3>
            <button id="generate">ğŸ® Generate My Game Plan</button>
            <button id="ideas">ğŸ’¡ Give Me Game Ideas</button>
            <button id="business-intelligence">ğŸ“Š Business Intelligence Analysis</button>
            <button id="view-portfolio">ğŸ“ View Portfolio</button>
            <button id="reset">ğŸ”„ Clear Everything</button>
            <div id="loading"><span class="dots">...</span></div>
            <div id="output"></div>
            <button id="copy">ğŸ“‹ Copy My Plan</button>
            <button id="save-plan">ğŸ’¾ Save to Portfolio</button>
            <div id="confirmation"></div>
            <div id="auth-section">
                <button id="auth-btn">Sign In</button>
                <button id="logout-btn">Sign Out</button>
                <span id="user-info"></span>
            </div>

            <!-- Subscription Tier Selection -->
            <div id="tier-selection" class="input-group">
                <label for="subscription-tier">Choose Your Plan</label>
                <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
                <stripe-pricing-table pricing-table-id="prctbl_1T1mZ9GLJIUQBz70r9xiWz8U"
                publishable-key="pk_live_51T1TbGGLJIUQBz70Xph1IwMQwzPQnl7Z2RNT5DOcuyoM5QbDbZ3OncV60gh8Wx3h9ng1uX1CKojO9GSOLScHncKW00ZmrN86So">
                </stripe-pricing-table>
            </div>
            <div id="next-steps">
                <h3>ğŸ¯ What to do next?</h3>
                <p><strong>After copying your plan:</strong></p>
                <ol>
                    <li><strong>Save it:</strong> Paste into a document or note-taking app</li>
                    <li><strong>Share it:</strong> Send to friends or post online</li>
                    <li><strong>Start building:</strong> Follow the "Start Here" step in your plan</li>
                    <li><strong>Learn more:</strong> Watch tutorials for your chosen tool</li>
                    <li><strong>Have fun!</strong> Game development is a journey - enjoy the process!</li>
                </ol>
                <p class="encouragement">ğŸ’¡ Remember: Every pro game developer started with a tiny first game!</p>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>
